{
    "sourceFile": "app/__init__.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 10,
            "patches": [
                {
                    "date": 1634826570985,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1634826658448,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,11 +9,11 @@\n from settings import app_config\r\n \r\n \r\n db = SQLAlchemy()\r\n+login_manager = LoginManager()\r\n \r\n \r\n-\r\n def create_app(config_name):\r\n     app = Flask(__name__, instance_relative_config=True)\r\n     app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///employee.db'\r\n     app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\r\n@@ -25,10 +25,9 @@\n     from app import models\r\n     \r\n     db.init_app(app)\r\n     app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database/employee.db'    \r\n-    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = True\r\n-    login_manager = LoginManager()   \r\n+    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = True    \r\n     login_manager.login_message = \"You must be logged in to access this page.\"\r\n     login_manager.login_view = \"auth.login\"\r\n     login_manager.init_app(app)\r\n     migrate = Migrate(app, db)\r\n"
                },
                {
                    "date": 1634845322646,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n # third-party imports\r\n-from flask import Flask\r\n+from flask import Flask, render_template\r\n from flask_login import LoginManager\r\n from flask_migrate import Migrate\r\n from flask_sqlalchemy import SQLAlchemy\r\n import sqlite3\r\n@@ -33,8 +33,12 @@\n     migrate = Migrate(app, db)\r\n \r\n     # from .admin import admin as admin_blueprint\r\n     # app.register_blueprint(admin_blueprint, url_prefix='/admin')\r\n+    \r\n+    @app.errorhandler(404)\r\n+    def page_not_found(error):\r\n+        return render_template('errors/404.html', title='Page Not Found'), 404\r\n \r\n     from .auth import auth as auth_blueprint\r\n     app.register_blueprint(auth_blueprint)\r\n \r\n"
                },
                {
                    "date": 1634845349091,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,15 +34,17 @@\n \r\n     # from .admin import admin as admin_blueprint\r\n     # app.register_blueprint(admin_blueprint, url_prefix='/admin')\r\n     \r\n-    @app.errorhandler(404)\r\n-    def page_not_found(error):\r\n-        return render_template('errors/404.html', title='Page Not Found'), 404\r\n+    \r\n \r\n     from .auth import auth as auth_blueprint\r\n     app.register_blueprint(auth_blueprint)\r\n \r\n     from .home import home as home_blueprint\r\n     app.register_blueprint(home_blueprint)\r\n+    \r\n+    @app.errorhandler(404)\r\n+    def page_not_found(error):\r\n+        return render_template('errors/404.html', title='Page Not Found'), 404\r\n \r\n     return app\r\n"
                },
                {
                    "date": 1634853616573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,7 +44,7 @@\n     app.register_blueprint(home_blueprint)\r\n     \r\n     @app.errorhandler(404)\r\n     def page_not_found(error):\r\n-        return render_template('errors/404.html', title='Page Not Found'), 404\r\n+        return render_template('home/404.html', title='Page Not Found'), 404\r\n \r\n     return app\r\n"
                },
                {
                    "date": 1634917166133,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -46,5 +46,9 @@\n     @app.errorhandler(404)\r\n     def page_not_found(error):\r\n         return render_template('home/404.html', title='Page Not Found'), 404\r\n \r\n+    @app.errorhandler(403)\r\n+    def forbidden(error):\r\n+        return render_template('errors/403.html', title='Forbidden'), 403\r\n+    \r\n     return app\r\n"
                },
                {
                    "date": 1634917438821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,7 +48,7 @@\n         return render_template('home/404.html', title='Page Not Found'), 404\r\n \r\n     @app.errorhandler(403)\r\n     def forbidden(error):\r\n-        return render_template('errors/403.html', title='Forbidden'), 403\r\n+        return render_template('home/403.html', title='Forbidden'), 403\r\n     \r\n     return app\r\n"
                },
                {
                    "date": 1634917451474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,13 +42,16 @@\n \r\n     from .home import home as home_blueprint\r\n     app.register_blueprint(home_blueprint)\r\n     \r\n+    @app.errorhandler(403)\r\n+    def forbidden(error):\r\n+        return render_template('home/403.html', title='Forbidden'), 403\r\n+    \r\n+    \r\n     @app.errorhandler(404)\r\n     def page_not_found(error):\r\n         return render_template('home/404.html', title='Page Not Found'), 404\r\n \r\n-    @app.errorhandler(403)\r\n-    def forbidden(error):\r\n-        return render_template('home/403.html', title='Forbidden'), 403\r\n     \r\n+    \r\n     return app\r\n"
                },
                {
                    "date": 1634917459971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,8 +50,7 @@\n     \r\n     @app.errorhandler(404)\r\n     def page_not_found(error):\r\n         return render_template('home/404.html', title='Page Not Found'), 404\r\n-\r\n+  \r\n     \r\n-    \r\n     return app\r\n"
                },
                {
                    "date": 1634953937207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,12 +31,10 @@\n     login_manager.login_view = \"auth.login\"\r\n     login_manager.init_app(app)\r\n     migrate = Migrate(app, db)\r\n \r\n-    # from .admin import admin as admin_blueprint\r\n-    # app.register_blueprint(admin_blueprint, url_prefix='/admin')\r\n-    \r\n-    \r\n+    from .admin import admin as admin_blueprint\r\n+    app.register_blueprint(admin_blueprint, url_prefix='/admin')     \r\n \r\n     from .auth import auth as auth_blueprint\r\n     app.register_blueprint(auth_blueprint)\r\n \r\n"
                },
                {
                    "date": 1634954306600,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,9 +32,9 @@\n     login_manager.init_app(app)\r\n     migrate = Migrate(app, db)\r\n \r\n     from .admin import admin as admin_blueprint\r\n-    app.register_blueprint(admin_blueprint, url_prefix='/admin')     \r\n+    app.register_blueprint(admin_blueprint, url_prefix='/admin')    \r\n \r\n     from .auth import auth as auth_blueprint\r\n     app.register_blueprint(auth_blueprint)\r\n \r\n"
                }
            ],
            "date": 1634826570985,
            "name": "Commit-0",
            "content": "# third-party imports\r\nfrom flask import Flask\r\nfrom flask_login import LoginManager\r\nfrom flask_migrate import Migrate\r\nfrom flask_sqlalchemy import SQLAlchemy\r\nimport sqlite3\r\n\r\n# local imports\r\nfrom settings import app_config\r\n\r\n\r\ndb = SQLAlchemy()\r\n\r\n\r\n\r\ndef create_app(config_name):\r\n    app = Flask(__name__, instance_relative_config=True)\r\n    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///employee.db'\r\n    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\r\n    app.config['PROPAGATE_EXCEPTIONS'] = True\r\n    app.config['SECRET_KEY'] = 'the random string'\r\n    #app.config.from_object(app_config[config_name])\r\n    #app.config.from_pyfile('config.py')\r\n\r\n    from app import models\r\n    \r\n    db.init_app(app)\r\n    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///database/employee.db'    \r\n    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = True\r\n    login_manager = LoginManager()   \r\n    login_manager.login_message = \"You must be logged in to access this page.\"\r\n    login_manager.login_view = \"auth.login\"\r\n    login_manager.init_app(app)\r\n    migrate = Migrate(app, db)\r\n\r\n    # from .admin import admin as admin_blueprint\r\n    # app.register_blueprint(admin_blueprint, url_prefix='/admin')\r\n\r\n    from .auth import auth as auth_blueprint\r\n    app.register_blueprint(auth_blueprint)\r\n\r\n    from .home import home as home_blueprint\r\n    app.register_blueprint(home_blueprint)\r\n\r\n    return app\r\n"
        }
    ]
}